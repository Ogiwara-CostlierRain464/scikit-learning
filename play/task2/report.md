# Wikipediaの閲覧状況の解析

71970013 荻原 湧志

# 導入
pv202004テーブルのスキーマは言語とブロジェクト、タイトル、ビュー数、ページサイズから構成されている。
このデータの解析によってどんな情報が得られるのだろうか。

授業では日本語のページのトップビュー数を確認してみると、コロナや志村けんさんなど、
その時期の話題がランクインしているような傾向がみられた。このような傾向は日本以外の国でも
そうなのか調べてみたいが、このテーブルから得られる情報はあくまでも調べられた言語の情報でしかなく、
どの国で見られたかの情報は無い。

例えば、アメリカの公用語は主に英語であるが、当然英語は世界中で使われている
ので、英語でビュー数のランキングを確認しても当時のアメリカの話題との関連性の
確認には使えない。
ブラジルについても主な公用語はポルトガル語なので、当然ポルトガル語でビュー数のランキングを確認しても
当時のブラジルの話題との関連性の確認には使えない。

そこで、「その国でしか使われていない言語を用いている国」を元にWikipediaのビュー数のランキングと
当時の話題との相関性を確認すると良いであろう。そういった国としてあげられるのは、自分が知っている限りでは
日本、中国、台湾、韓国であった。
そこで、これらの国々のデータを元に以下のような目的を立てる。

# 目的
日本、中国、台湾、韓国について、各国で2020年4月に話題になった事柄と、
Wikipediaの該当するページのビュー数に相関があるかについて調べる。

# 方法
各国のWikipediaの記事のビュー数ランキングについて、以下のクエリを用いて確認した。

```sql
SELECT title, SUM(count) AS num FROM pv202004 WHERE proj = "CODE" 
GROUP BY title ORDER BY num DESC LIMIT 20;
```

ここで、`CODE`の部分は各国のISO 3166-1である。日本なら`ja`、中国なら`cn`、
台湾なら`tw`、韓国なら`kr`である。

まず、日本語のWikipediaの記事のビュー数ランキングについて確認した結果、
以下のようなレスポンスが帰ってきた。

```
+------------------------+---------+
| title                  | num     |
+------------------------+---------+
| メインページ           | 6442157 |
| 特別:検索              | 2196239 |
| 岡江久美子             | 669748  |
| -                      | 495613  |
| 特別:最近の更新        | 493551  |
| 古関裕而               | 369641  |
| 藤原啓治               | 363343  |
| 吉村洋文               | 337652  |
| 白石麻衣               | 323584  |
| 志村けん               | 321430  |
| Special:Search         | 306488  |
| スペインかぜ           | 302751  |
| 鬼滅の刃               | 250535  |
| 高井崇志               | 236483  |
| 2019新型コロナウイルス | 235353  |
| 大和田美帆             | 202011  |
| 斎藤道三               | 199497  |
| アマビエ               | 195569  |
| 非常事態宣言           | 194063  |
| ABC予想                | 193296  |
+------------------------+---------+
```

このうち、「メインページ」「特別:検索」「-」「特別:最近の更新」を除いて、
上から5つある単語・人名について、それらを含んだニュース記事が4月中に投稿されたかを確認した。
その結果、どの五つの人名についてもそれを含むニュースが4月中に投稿されていた。

「岡江久美子」を含むニュース記事
https://r.nikkei.com/article/DGXMZO58398760T20C20A4CZ8000

「古関裕而」を含むニュース記事
https://r.nikkei.com/article/DGXMZO57918150Q0A410C2BE0P00?s=4

「藤原啓治」を含むニュース記事
https://news.yahoo.co.jp/articles/dda34e8f3be87f66a5b9fd5365a5302738342e82

「吉村洋文」を含むニュース記事
https://r.nikkei.com/article/DGXMZO58637080Q0A430C2AC1000?s=1

「白石麻衣」を含むニュース記事
https://news.yahoo.co.jp/articles/21c8a006d738e074bf8470b0c7629f7574144e1d


次に、中国のWikipediaの記事のビュー数ランキングについて確認した結果、
以下のようなレスポンスが帰ってきた。

```
Fetched 0 row(s) in 5.90s
```

つまり、この方法ではそもそも中国語版のWikipediaの情報を得ることはできなかった。


次に、台湾のWikipediaの記事のビュー数ランキングについて確認した結果、
以下のようなレスポンスが帰ってきた。

```
+----------------------------+-------+
| title                      | num   |
+----------------------------+-------+
| Main_Page                  | 15279 |
| Help:Typing_Twi            | 2240  |
| English                    | 1915  |
| Wikipedia:Community_Portal | 1816  |
| Twi                        | 933   |
| Special:MyTalk             | 715   |
| Ewia                       | 673   |
| Amerika                    | 634   |
| Togo                       | 631   |
| Category:Afanaa            | 611   |
| Gaana                      | 607   |
| Wɔhyeten                   | 566   |
| Special:Search             | 552   |
| Wikipedia                  | 546   |
| Twere_Kronkron             | 475   |
| Category:Kasa              | 420   |
| Wikipedia:Current_events   | 412   |
| United_Kingdom             | 409   |
| Lady_GaGa                  | 407   |
| Wikipedia:Vital_articles   | 401   |
+----------------------------+-------+
```

台湾の公用語は中国語であるにもかかわらず、ここでは英語の単語しか挙げられておらず、またページビュー数
も以上に低い。また、韓国のWikipediaの記事のビュー数ランキングについても、以下のような結果が帰ってきており、
やはり適切な結果が得られたとは考えられなかった。

```
+----------------------------+-------+
| title                      | num   |
+----------------------------+-------+
| Special:UserLogin          | 15991 |
| Main_Page                  | 11124 |
| Special:Search             | 710   |
| Special:Log/block          | 620   |
| Special:Statistics         | 443   |
| Talk:Main_Page             | 427   |
| Special:Log                | 406   |
| Special:MobileOptions      | 383   |
| Special:ListFiles          | 336   |
| Template:Delete            | 301   |
| Wikipedia:Protected_titles | 301   |
| Special:AbuseLog           | 287   |
| Special:ListUsers          | 256   |
| Special:ActiveUsers        | 233   |
| User:Pill                  | 209   |
| Special:ElectronPdf        | 196   |
| Special:Book               | 178   |
| Special:ListUsers/sysop    | 168   |
| Special:CiteThisPage       | 144   |
| Special:Log/Johannes_Rohr  | 118   |
+----------------------------+-------+
```


# 結論
日本については、Wikipediaの記事のビュー数ランキングと、その時期の話題(ニュース)に強い相関性があると考えられる。
しかしながら、中国、台湾、韓国については、この方法ではうまく検証できないと考えられる。
